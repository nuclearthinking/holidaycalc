(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(9),o=t.n(a),s=(t(41),t(1));function i(){return Object(s.jsx)("div",{})}var r=t(3),l=t(5),d=t(14),u=t(17),j=t(13),b=Object(j.b)({name:"groups",initialState:[],reducers:{addGroup:function(e,n){e.push(n.payload)},addPerson:function(e,n){var t=n.payload.id;e.find((function(e){return e.id===t})).persons.push({id:Object(j.c)(),name:"",drinksAlcohol:!0,eatMeat:!0})},addSpending:function(e,n){var t=n.payload.id;e.find((function(e){return e.id===t})).spendings.push({id:Object(j.c)(),amount:"",type:"other"})},changePersonName:function(e,n){var t=n.payload,c=t.id,a=t.name,o=m(c,e);null!=o&&(o.name=a)},toggleDrinksAlcohol:function(e,n){var t=m(n.payload.id,e);null!=t&&(t.drinksAlcohol=!t.drinksAlcohol)},toggleEatMeat:function(e,n){var t=m(n.payload.id,e);null!=t&&(t.eatMeat=!t.eatMeat)},changeSpendingAmount:function(e,n){var t=n.payload,c=t.id,a=t.amount,o=h(c,e);null!=o&&(o.amount=a)},changeSpendingType:function(e,n){var t=n.payload,c=t.id,a=t.type,o=h(c,e);null!=o&&(o.type=a)}}});function m(e,n){var t,c=null,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){c=t.value.persons.find((function(n){return n.id===e}))}}catch(o){a.e(o)}finally{a.f()}return c}function h(e,n){var t,c=null,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){c=t.value.spendings.find((function(n){return n.id===e}))}}catch(o){a.e(o)}finally{a.f()}return c}var p=b.actions,O=p.addGroup,f=p.addPerson,x=p.addSpending,g=p.changePersonName,v=p.toggleDrinksAlcohol,y=p.toggleEatMeat,N=p.changeSpendingAmount,k=p.changeSpendingType,C=t(27),w=t(28),A=t(77);function S(){var e=Object(d.c)((function(e){return e.groups})),n=Object(c.useState)(!1),t=Object(l.a)(n,2),a=t[0],o=t[1],i=Object(c.useState)(""),r=Object(l.a)(i,2),u=r[0],b=r[1],m=Object(c.useState)("empty"),h=Object(l.a)(m,2),p=h[0],f=h[1],x=Object(d.b)();var g=function(){return o(!1)};return Object(s.jsxs)("div",{className:"container",children:[e.map((function(e,n){return Object(s.jsx)(T,{name:e.name,id:e.id,persons:e.persons,spendings:e.spendings},e.id)})),Object(s.jsx)("div",{className:"row align-content-center",style:{marginTop:10},children:Object(s.jsx)("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(){return o(!0)},children:"+"})}),Object(s.jsx)(B,{}),Object(s.jsxs)(A.a,{show:a,onHide:g,children:[Object(s.jsx)(A.a.Header,{closeButton:!0,children:Object(s.jsx)(A.a.Title,{children:"Add new group"})}),Object(s.jsx)(A.a.Body,{children:Object(s.jsxs)("div",{className:"row justify-content-center",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col-auto",children:Object(s.jsx)("input",{className:"empty"===p?"form-control form-control-lg":"form-control form-control-lg is-invalid",type:"text",placeholder:"Group name",value:u,onChange:function(e){b(e.target.value)}})}),Object(s.jsx)("div",{className:"col-1"})]})}),Object(s.jsxs)(A.a.Footer,{children:[Object(s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:g,children:"Close"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){u.length>=3?(x(O({id:Object(j.c)(),name:u,persons:[],spendings:[]})),f("empty"),b(""),o(!1)):(f("error"),setTimeout((function(){f("empty")}),2e3))},children:"Add"})]})]})]})}function T(e){var n=e.id,t=e.name,c=e.persons,a=e.spendings,o=Object(d.b)();return Object(s.jsxs)("div",{className:"container",style:{marginTop:15},children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("p",{className:"h3",children:t})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("p",{className:"h6",children:["Persons ",Object(s.jsx)(C.a,{icon:w.a,color:"green",onClick:function(){o(f({id:n}))}})]})})}),Object(s.jsx)("div",{className:"row justify-content-center",children:c?c.map((function(e,n){return Object(s.jsx)(M,{name:e.name,drinksAlcohol:e.drinksAlcohol,eatMeat:e.eatMeat,id:e.id},e.id)})):""}),Object(s.jsx)("div",{className:"row",style:{marginTop:5},children:Object(s.jsx)("div",{className:"col",children:Object(s.jsxs)("p",{className:"h6",children:["Spendings ",Object(s.jsx)(C.a,{icon:w.a,color:"green",onClick:function(){o(x({id:n}))}})]})})}),Object(s.jsx)("div",{className:"row justify-content-center",children:a?a.map((function(e,n){return Object(s.jsx)(P,{amount:e.amount,type:e.type,id:e.id},e.id)})):""})]})}function M(e){var n=e.id,t=e.name,c=e.eatMeat,a=e.drinksAlcohol,o=Object(d.b)();return Object(s.jsx)("div",{className:"row align-content-center",children:Object(s.jsxs)("div",{className:"row justify-content-center",children:[Object(s.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(s.jsxs)("div",{className:"input-group flex-nowrap",children:[Object(s.jsx)("span",{className:"input-group-text",id:"name",children:Object(s.jsx)("i",{className:"bi bi-person-circle"})}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Name","aria-label":"Username","aria-describedby":"name",value:t,onChange:function(e){o(g({id:n,name:e.target.value}))}})]})}),Object(s.jsxs)("div",{className:"col-md-12 col-lg-6 align-self-center",children:[Object(s.jsxs)("div",{className:"form-check form-check-inline",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"alcoholCheckbox",checked:a,onChange:function(){o(v({id:n}))}}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"alcoholCheckbox",children:"Alcohol"})]}),Object(s.jsxs)("div",{className:"form-check form-check-inline",children:[Object(s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"meatCheckbox",checked:c,onChange:function(){o(y({id:n}))}}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"meatCheckbox",children:"Meat"})]})]})]})})}function P(e){var n=e.id,t=e.amount,c=e.type,a=Object(d.b)();return Object(s.jsx)("div",{className:"row",style:{marginTop:5},children:Object(s.jsxs)("div",{className:"input-group flex-nowrap",children:[Object(s.jsx)("input",{type:"number",className:"form-control",placeholder:"Amount",value:t,onChange:function(e){a(N({id:n,amount:e.target.value}))}}),Object(s.jsxs)("select",{className:"form-select",value:c,onChange:function(e){a(k({id:n,type:e.target.value}))},children:[Object(s.jsx)("option",{value:"other",children:"Other"}),Object(s.jsx)("option",{value:"alcohol",children:"Alcohol"}),Object(s.jsx)("option",{value:"meat",children:"Meat"})]})]})})}function B(e){var n=Object(d.c)((function(e){return e.groups})),t=Object(c.useState)(!1),a=Object(l.a)(t,2),o=a[0],i=a[1];return Object(c.useEffect)((function(){n.length>=2&&i(!0)}),[n]),o?Object(s.jsx)("div",{className:"row align-content-center",style:{marginTop:10},children:Object(s.jsx)("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(){console.log(JSON.stringify({eventName:"event",participants:n}),"send data"),fetch("/calculator/calculate-spendings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventName:"event",participants:n})}).then((function(e){e.ok?console.log(e,"big success"):console.log(e,"error happen")})).catch((function(e){console.log(e)}))},children:"Calculate"})}):Object(s.jsx)("div",{})}function E(){var e=[{path:"/",element:Object(s.jsx)(J,{}),children:[{index:!0,element:Object(s.jsx)(S,{})}]}],n=Object(r.g)(e);return Object(s.jsx)("div",{children:n})}function J(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(i,{}),Object(s.jsx)(r.a,{})]})}t(51),t(52),t(73);var F=t(25),G=Object(j.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,n){e.value+=n.payload}}}),D=G.actions,H=(D.increment,D.decrement,D.incrementByAmount,Object(j.a)({reducer:{counter:G.reducer,groups:b.reducer}}));o.a.render(Object(s.jsx)(d.a,{store:H,children:Object(s.jsx)(F.a,{children:Object(s.jsx)(E,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.527dc7b3.chunk.js.map